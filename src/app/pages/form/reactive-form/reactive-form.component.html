<app-demo-item>
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
        <div class="app-notice">ID</div>
        <div [class]="isControlValid(name)?'app-primary-color':'app-warn-color'"><strong>Name:</strong></div>
        <mat-form-field>
            <input matInput formControlName="name">
        </mat-form-field>
        <div class="app-primary-color"><strong>Phone:</strong></div>
        <mat-form-field>
            <div matPrefix style="display: flex; flex-direction: row; align-items: center;">
                <mat-icon>phone</mat-icon>
                <div>+86</div>
            </div>
            <!-- <div matPrefix>+86</div> -->

            <input matInput formControlName="phone">
        </mat-form-field>

        <ng-container formGroupName="address">
            <div class="app-notice">Address</div>
            <div class="app-primary-color"><strong>Province</strong></div>
            <mat-form-field>
                <!-- <input matInput formControlName="province"> -->
                <mat-select formControlName="province" (selectionChange)=onProvinceChanges($event)>
                    <mat-option *ngFor="let province of provinces" [value]="province">{{province}}</mat-option>
                </mat-select>
            </mat-form-field>
            <div class="app-primary-color"><strong>City</strong></div>
            <mat-form-field>
                <!-- <input matInput formControlName="city"> -->
                <mat-select formControlName="city">
                    <mat-option *ngFor="let city of cities" [value]="city">{{city}}</mat-option>
                </mat-select>
            </mat-form-field>
        </ng-container>

        <ng-container formArrayName="aliases">
            <div class="add-alias-wrapper">
                <div class="app-notice add-alias-notice">Aliases</div>
                <button mat-mini-fab class="add-alias-icon" (click)="addAlias()">
                    <mat-icon>add</mat-icon>
                </button>
            </div>
            <ng-container *ngFor="let alias of aliases.controls; let i=index">
                <mat-form-field>
                    <input matInput [formControlName]="i" placeholder="Alias-{{i+1}}">
                </mat-form-field>
            </ng-container>
        </ng-container>

        <button mat-raised-button type="submit" color="primary" [disabled]="!profileForm.valid">Submit</button>

        <div class="app-outline">
            <p>Form Values: {{profileForm.value | json}}</p>
            <p>Form Status: {{profileForm.status}}</p>
            <p>Form Touched: {{profileForm.touched}}</p>
            <p>Form Dirty: {{profileForm.dirty}}</p>
            <button mat-raised-button (click)="patchValue($event)">Patch Value</button>
        </div>

    </form>
</app-demo-item>